<!DOCTYPE html>
<html>
<body>
  <h1>WebSocket Test</h1>
  <button onclick="connect()">Connect</button>
  <div id="messages"></div>

  <script>
    function log(msg) {
      const div = document.createElement('div');
      div.textContent = msg;
      document.getElementById('messages').appendChild(div);
    }

    function connect() {
      const ws = new WebSocket('ws://localhost:8080');

      ws.onopen = () => {
        log('✅ Connected!');
        ws.send('Hello from browser!');
      };

      ws.onmessage = (event) => {
        log('📩 Server: ' + event.data);
      };

      ws.onerror = (err) => {
        log('❌ Error: ' + err.message);
      };

      ws.onclose = () => {
        log('🔌 Disconnected');
      };
    }
  </script>
</body>
</html>